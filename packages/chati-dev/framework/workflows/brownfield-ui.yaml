# Brownfield UI Workflow
# Frontend/UI changes for existing projects

workflow:
  id: brownfield-ui
  name: Brownfield UI Enhancement
  version: "1.0.0"
  type: brownfield
  project_types: [ui-modernization, frontend-migration, component-library, design-system-update]
  description: >
    Pipeline for frontend/UI changes in existing projects.
    Same as brownfield-fullstack but UX agent takes a larger role,
    including Design System audit and component inventory.
    Architect focuses on frontend architecture and state management.

phases:
  - phase: 0
    name: Deep Discovery
    category: PLANNING
    sequence:
      - agent: brownfield-wu
        action: full-discovery
        creates: [chati.dev/artifacts/0-WU/wu-full-report.md]
        notes: "UX scout call gets extra attention for component audit"

  - phase: 1
    name: Problem Definition
    category: PLANNING
    sequence:
      - agent: brief
        action: problem-extraction
        creates: [chati.dev/artifacts/1-Brief/brief-report.md]

  - phase: 2
    name: Architecture & Experience
    category: PLANNING
    sequence:
      - agent: architect
        action: assess-architecture
        creates: [chati.dev/artifacts/3-Architecture/architecture.md]
        notes: "Focus on frontend architecture, state management, component patterns"
      - agent: detail
        action: create-prd
        creates: [chati.dev/artifacts/2-PRD/prd.md]
        template: brownfield-prd-tmpl.yaml
      - agent: ux
        action: define-experience
        creates: [chati.dev/artifacts/4-UX/ux-specification.md]
        notes: "Full Design System audit + new token definitions"

  - phase: 3
    name: Execution Planning
    category: PLANNING
    sequence:
      - agent: phases
        action: create-roadmap
        creates: [chati.dev/artifacts/5-Phases/phases.md]
      - agent: tasks
        action: create-tasks
        creates: [chati.dev/artifacts/6-Tasks/tasks.md]

  - phase: 4
    name: Planning Quality Gate
    category: PLANNING
    sequence:
      - agent: qa-planning
        action: validate-traceability
        creates: [chati.dev/artifacts/7-QA-Planning/qa-planning-report.md]

  - phase: 5
    name: Implementation
    category: BUILD
    sequence:
      - agent: dev
        action: implement-tasks
        notes: "Design System token enforcement is critical for UI work"
      - agent: qa-implementation
        action: validate-code
        creates: [chati.dev/artifacts/8-Validation/qa-implementation-report.md]

  - phase: 6
    name: Deployment
    category: DEPLOY
    sequence:
      - agent: devops
        action: deploy
        creates: [chati.dev/artifacts/8-Validation/deploy-report.md]
